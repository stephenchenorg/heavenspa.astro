---
import {createAstroT} from '@/utils/astro-i18n'
import Button from './ui/Button.astro'

// 翻譯函數
const t = createAstroT(Astro)
---

<div class="relative z-10 text-center">
  <div>
    <h1
      id="hero-title"
      class="text-[clamp(3rem,8vw,6rem)] lg:text-[clamp(2.5rem,7vw,5rem)] md:text-[clamp(2rem,8vw,3.5rem)] sm:text-[clamp(1.5rem,10vw,2.5rem)] font-black leading-[0.85] text-white uppercase tracking-[-0.02em] mb-8 md:mb-6 sm:mb-4 transition-colors duration-300">
      <span
        class="block animate-fade-in-up [animation-delay:0.5s] [animation-fill-mode:both]">{t('hero.embrace')}</span>
      <span
        class="block animate-fade-in-up [animation-delay:0.7s] [animation-fill-mode:both] text-[clamp(2rem,6vw,4rem)] lg:text-[clamp(1.5rem,5vw,3rem)] md:text-[clamp(1.2rem,6vw,2rem)] sm:text-[clamp(0.8rem,7vw,1.5rem)] pt-8">{t('hero.yourself')}</span>
    </h1>
    <Button href="#courses" variant="primary">{t('buttons.book-now')}</Button>
  </div>
</div>

<!-- 旋轉圓圈元素 -->
<div
  class="absolute bottom-20 right-20 lg:bottom-12 lg:right-12 md:bottom-8 md:right-8 sm:bottom-6 sm:right-6 w-[120px] h-[120px] lg:w-[100px] lg:h-[100px] md:w-20 md:h-20 sm:w-[70px] sm:h-[70px] z-10 opacity-100 transition-opacity duration-500 ease-out">
  <div class="absolute w-full h-full rounded-full border border-white/30 animate-spin [animation-duration:20s]">
    <span
      class="absolute left-1/2 top-2.5 text-[10px] lg:text-[9px] md:text-[8px] sm:text-[7px] text-white tracking-[2px] font-normal origin-[0_50px] lg:origin-[0_42px] md:origin-[0_35px] sm:origin-[0_30px] whitespace-nowrap">{t('hero.scroll')}
      • {t('hero.scroll')} • </span>
  </div>
  <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-2xl animate-bounce">↓</div>
</div>

<!-- 側邊文字 -->
<div class="absolute left-12 md:left-4 sm:left-2 top-1/2 -translate-y-1/2 -rotate-90 z-10">
  <span
    class="text-white text-base md:text-sm sm:text-sm tracking-[3px] sm:tracking-[2px] font-light uppercase">& SPA</span>
</div>

<div class="absolute top-0 left-0 w-full h-full z-[1]">
  <div
    class="w-full h-full bg-[url('https://hamahairspa.com/wp-content/uploads/2024/06/%E5%A4%A7young-woman-lying-down-with-traditional-hot-stones-along-spi-e1719460788846.jpeg')] bg-center bg-cover mix-blend-multiply opacity-80"></div>
</div>

<style>
  /* Custom animations for fade-in-up effect */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(60px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 1s ease both;
  }
</style>

<script>
  // 旋轉圓圈文字效果
  document.addEventListener('DOMContentLoaded', () => {
    const circleText = document.querySelector('.circle-text span') as HTMLElement
    if (circleText) {
      const text = circleText.textContent || ''
      circleText.innerHTML = ''

      for (let i = 0; i < text.length; i++) {
        const char = document.createElement('span')
        char.textContent = text[i]
        char.style.transform = `rotate(${i * (360 / text.length)}deg)`
        char.style.position = 'absolute'
        char.style.left = '50%'
        char.style.transformOrigin = '0 50px'
        circleText.appendChild(char)
      }
    }

    // 滾動時改變文字顏色
    const heroTitle = document.getElementById('hero-title')
    if (heroTitle) {
      window.addEventListener('scroll', () => {
        const scrollY = window.scrollY
        if (scrollY > 100) {
          heroTitle.classList.add('text-primary-500')
          heroTitle.classList.remove('text-white')
        } else {
          heroTitle.classList.add('text-white')
          heroTitle.classList.remove('text-primary-500')
        }
      })
    }
  })
</script>
