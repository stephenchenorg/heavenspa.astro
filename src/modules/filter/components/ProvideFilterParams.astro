---
interface Props {
  params: Record<string, any>
  defaultParams?: Record<string, any>
}

const { params, defaultParams = {} } = Astro.props
---

<script is:inline define:vars={{
  params,
  defaultParams,
}}>
window.__astro__provide_filter_params_props = { params, defaultParams };
</script>

<script>
import { filterParamsStore, defaultFilterParamsStore } from '../stores'

// @ts-ignore
const props = window.__astro__provide_filter_params_props

const params: Record<string, any> = props?.params || {}
const defaultParams: Record<string, any> = props?.defaultParams || {}

filterParamsStore.set(params)
defaultFilterParamsStore.set(defaultParams)
</script>
