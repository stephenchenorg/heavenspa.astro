---
import type { CompanySettingData } from '@/types'
import Facebook from '@/components/icon/Facebook.astro'
import Instagram from '@/components/icon/Instagram.astro'
import Line from '@/components/icon/Line.astro'
import Telegram from '@/components/icon/Telegram.astro'
import Threads from '@/components/icon/Threads.astro'
import X from '@/components/icon/X.astro'
import ButtonBooking from '@/components/ButtonBooking.vue'
import { createAstroT } from '@/utils/astro-i18n'

export interface Props {
  class?: astroHTML.JSX.HTMLAttributes['class']
  companySetting?: CompanySettingData | null
}

const {
  companySetting = null,
} = Astro.props

// ç¿»è­¯å‡½æ•¸
const t = createAstroT(Astro)
---

<footer class="modern-footer">
  <div class="footer-container">
    <div class="footer-grid">
      
      <!-- å·¦å´ï¼šå…¬å¸è³‡è¨Š -->
      <div class="footer-column company-info">
        <div class="company-logo">
          <div class="logo-text">{companySetting?.name}</div>
          <div class="logo-subtitle">HEAVEN SPA</div>
        </div>
        <p class="company-description">
          å°ˆæ¥­çš„èº«å¿ƒéˆæ”¾é¬†é«”é©—ï¼Œçµåˆå‚³çµ±èˆ‡ç¾ä»£æŠ€è¡“ï¼Œç‚ºæ‚¨æä¾›æœ€å„ªè³ªçš„ SPA æœå‹™ã€‚åœ¨é€™è£¡æ‰¾åˆ°å…§å¿ƒçš„å¹³éœèˆ‡èº«é«”çš„èˆ’ç·©ã€‚
        </p>
        <div class="contact-info">
          <div class="contact-item">
            <span class="contact-icon">ğŸ“</span>
            <a href={`tel:${companySetting?.phone_1}`}>{companySetting?.phone_1}</a>
          </div>
          <div class="contact-item">
            <span class="contact-icon">ğŸ“</span>
            <a href={`https://maps.google.com/?q=${encodeURIComponent(companySetting?.address_1 || '')}`} target="_blank" rel="noopener noreferrer">{companySetting?.address_1}</a>
          </div>
          <div class="contact-item">
            <span class="contact-icon">ğŸ•’</span>
            <span data-i18n="footer.business-hours-time">{t('footer.business-hours-time')}</span>
          </div>
          <div class="contact-item">
            <span class="contact-icon">âœ‰ï¸</span>
            <a href={`mailto:${companySetting?.email_1}`}>{companySetting?.email_1}</a>
          </div>
        </div>
      </div>

      <!-- æœå‹™é …ç›® -->
      <div class="footer-column services-links">
        <h4 class="footer-title">æœå‹™é …ç›®</h4>
        <ul class="footer-links">
          <li><a href="/services">é—œæ–¼æˆ‘å€‘</a></li>
          <li><a href="/services">æŒ‰æ‘©æœå‹™</a></li>
          <li><a href="/services">ç¾å®¹è­·ç†</a></li>
          <li><a href="/services">èº«é«”ç™‚ç¨‹</a></li>
          <li><a href="/booking">ç·šä¸Šé ç´„</a></li>
          <li><a href="/contact">è¯çµ¡æˆ‘å€‘</a></li>
        </ul>
      </div>

      <!-- ç¤¾ç¾¤åª’é«” -->
      <div class="footer-column social-column">
        <h4 class="footer-title">ç¤¾ç¾¤åª’é«”</h4>
        <ul class="footer-links">
          {companySetting?.fb_link && (
            <li>
              <a href={companySetting.fb_link} class="social-link" target="_blank" rel="noopener noreferrer" title="Facebook">
                <Facebook />
                <span>Facebook</span>
              </a>
            </li>
          )}
          {companySetting?.ig_link && (
            <li>
              <a href={companySetting.ig_link} class="social-link" target="_blank" rel="noopener noreferrer" title="Instagram">
                <Instagram />
                <span>Instagram</span>
              </a>
            </li>
          )}
          {companySetting?.line_link && (
            <li>
              <a href={companySetting.line_link} class="social-link" target="_blank" rel="noopener noreferrer" title="Line">
                <Line />
                <span>Line</span>
              </a>
            </li>
          )}
          {companySetting?.twitter_link && (
            <li>
              <a href={companySetting.twitter_link} class="social-link" target="_blank" rel="noopener noreferrer" title="Twitter">
                <X />
                <span>Twitter</span>
              </a>
            </li>
          )}
          {companySetting?.tg_link && (
            <li>
              <a href={companySetting.tg_link} class="social-link" target="_blank" rel="noopener noreferrer" title="Telegram">
                <Telegram />
                <span>Telegram</span>
              </a>
            </li>
          )}
          {companySetting?.threads_link && (
            <li>
              <a href={companySetting.threads_link} class="social-link" target="_blank" rel="noopener noreferrer" title="Threads">
                <Threads />
                <span>Threads</span>
              </a>
            </li>
          )}
        </ul>
      </div>      <!-- æ³•å¾‹èˆ‡æ”¿ç­– -->
      <div class="footer-column legal-column">
        <h4 class="footer-title">æ³•å¾‹èˆ‡æ”¿ç­–</h4>
        <ul class="footer-links">
          <li><a href="/privacy">éš±ç§æ”¿ç­–</a></li>
          <li><a href="/terms">æœå‹™æ¢æ¬¾</a></li>
          <li><a href="/presskit">åª’é«”è³‡æ–™</a></li>
        </ul>
      </div>
    </div>    <!-- åº•éƒ¨ç‰ˆæ¬Šè³‡è¨Š -->
    <div class="footer-bottom">
      <div class="footer-bottom-content">
        <p>&copy; Heaven Spa 2024.</p>
        <p>ä½æ–¼å°åŒ—ï¼Œå°ç£ã€‚</p>
      </div>
    </div>
  </div>

  <style>
    .modern-footer {
      background: var(--theme-bg, #ffffff);
      color: var(--theme-text, #000000);
      border-top: 1px solid var(--theme-border, #e5e5e5);
      padding: 4rem 0 2rem;
      position: relative;
      overflow: hidden;
    }

    .modern-footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.05) 0%, rgba(212, 175, 55, 0.02) 100%);
      pointer-events: none;
    }

    .footer-container {
      max-width: none;
      margin: 0;
      padding: 0 1rem;
      position: relative;
      z-index: 1;
    }

    @media (min-width: 768px) {
      .footer-container {
        padding: 0 2rem;
      }
    }

    @media (min-width: 1024px) {
      .footer-container {
        padding: 0 4rem;
        max-width: 1400px;
        margin: 0 auto;
      }
    }

    .footer-grid {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 3rem;
      margin-bottom: 3rem;
    }

    .footer-column h3,
    .footer-column h4 {
      margin: 0 0 1.5rem 0;
      font-weight: 600;
      color: var(--theme-text, #000000);
    }

    .footer-column h3 {
      font-size: 1.8rem;
      color: var(--color-primary-600, #c4a428);
    }

    .footer-column h4 {
      font-size: 1.2rem;
      letter-spacing: 0.5px;
    }

    .footer-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--theme-text, #000000);
      margin-bottom: 1.5rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* å…¬å¸è³‡è¨Šå€åŸŸ */
    .company-info {
      padding-right: 2rem;
    }

    .company-logo {
      margin-bottom: 1.5rem;
    }

    .logo-text {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--color-primary-600, #c4a428);
      margin-bottom: 0.25rem;
      letter-spacing: 0.5px;
    }

    .logo-subtitle {
      font-size: 1rem;
      font-weight: 500;
      color: var(--theme-text-secondary, #666666);
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .company-description {
      font-size: 0.95rem;
      line-height: 1.7;
      color: var(--theme-text-secondary, #666666);
      margin-bottom: 2rem;
    }

    .contact-info {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 0.9rem;
    }

    .contact-icon {
      font-size: 1rem;
      opacity: 0.8;
    }

    .contact-item a {
      color: var(--theme-text, #000000);
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .contact-item a:hover {
      color: var(--color-primary-600, #c4a428);
    }

    /* é€£çµåˆ—è¡¨ */
    .footer-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-links li {
      margin-bottom: 0.75rem;
    }

    .footer-links a {
      color: var(--theme-text-secondary, #666666);
      text-decoration: none;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
    }

    .footer-links a::before {
      content: 'â†’';
      margin-right: 0.5rem;
      opacity: 0;
      transform: translateX(-10px);
      transition: all 0.3s ease;
    }

    .footer-links a:hover {
      color: var(--color-primary-600, #c4a428);
      transform: translateX(5px);
    }

    .footer-links a:hover::before {
      opacity: 1;
      transform: translateX(0);
    }

    /* ç¤¾ç¾¤åª’é«”é€£çµç‰¹æ®Šæ¨£å¼ */
    .footer-links a.social-link {
      gap: 0.5rem;
    }

    .footer-links a.social-link::before {
      display: none;
    }

    .footer-links a.social-link svg {
      width: 16px;
      height: 16px;
      transition: all 0.3s ease;
      flex-shrink: 0;
    }

    .footer-links a.social-link:hover svg {
      transform: scale(1.1);
    }

    .footer-links a.social-link span {
      font-weight: 400;
      letter-spacing: 0.3px;
    }

    /* åº•éƒ¨å€åŸŸ */
    .footer-bottom {
      border-top: 1px solid var(--theme-border, #e5e5e5);
      padding-top: 2rem;
      text-align: center;
    }

    .footer-bottom-content {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
      font-size: 0.85rem;
      color: var(--theme-text-secondary, #666666);
    }

    .footer-bottom-content p {
      margin: 0;
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 1024px) {
      .footer-grid {
        grid-template-columns: 1fr;
        gap: 3rem;
      }

      .company-info {
        padding-right: 0;
      }

      .footer-links a.social-link svg {
        width: 18px;
        height: 18px;
      }
    }

    @media (max-width: 768px) {
      .modern-footer {
        padding: 3rem 0 1.5rem;
      }

      .footer-grid {
        gap: 2rem;
      }

      .footer-bottom-content {
        flex-direction: column;
        gap: 0.5rem;
      }
    }

    @media (max-width: 480px) {
      .modern-footer {
        padding: 2rem 0 1rem;
      }

      .footer-grid {
        gap: 1.5rem;
      }

      .company-info h3 {
        font-size: 1.5rem;
      }

      .company-description {
        font-size: 0.9rem;
      }
    }

    /* æ·±è‰²æ¨¡å¼é©é… */
    .dark-theme .modern-footer {
      background: var(--theme-bg, #000000);
      color: var(--theme-text, #ffffff);
    }

    .dark-theme .modern-footer::before {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
    }

    /* æ·±è‰²æ¨¡å¼ä¸‹çš„ç¤¾ç¾¤åª’é«”åœ–ç¤º */
    .dark-theme .footer-links a.social-link svg {
      fill: #ffffff;
      color: #ffffff;
    }

    .dark-theme .footer-links a.social-link svg path {
      fill: #ffffff;
    }

    /* æ·±è‰²æ¨¡å¼ä¸‹çš„æ‡¸åœæ•ˆæœ */
    .dark-theme .footer-links a.social-link:hover svg {
      fill: var(--color-primary-400, #d4af37);
      color: var(--color-primary-400, #d4af37);
    }

    .dark-theme .footer-links a.social-link:hover svg path {
      fill: var(--color-primary-400, #d4af37);
    }

    /* å‹•ç•«æ•ˆæœ */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .footer-column {
      animation: fadeInUp 0.6s ease forwards;
    }

    .footer-column:nth-child(2) {
      animation-delay: 0.2s;
    }

    .footer-column:nth-child(3) {
      animation-delay: 0.4s;
    }
  </style>
</footer>
