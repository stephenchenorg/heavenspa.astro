---
import { seoMeta } from '@stephenchenorg/astro/page'
import Layout from '@/layouts/Layout.astro'
import SectionTitle from '../../components/ui/SectionTitle.astro'

const meta = seoMeta({
    title: `技能培訓 - Heaven Spa`,
})
---

<Layout meta={meta}>
    <main class="relative z-10 w-full min-h-screen text-[color:var(--theme-text,#000000)] pt-[120px]">
        <!-- 標題區 -->
        <SectionTitle title="技術培訓" subtitle="Training" />

        <div class="relative min-h-screen bg-[url('https://pic03.eapple.com.tw/yonghe32/bg.jpg')] bg-center bg-no-repeat bg-cover bg-fixed">
            <!-- Main Content -->
            <div class="main_part mx-auto p-0">
                <!-- Main Training Content -->
                <div class="box_container w-full mx-auto font-[Microsoft_JhengHei] text-black">

                    <!-- Section 1: Introduction -->
                    <div class="cabg01 max-w-7xl mx-auto relative bg-cover bg-center pt-[72px] md:pt-[100px] pb-16 lg:pb-0 bg-[url('https://pic03.eapple.com.tw/yonghe32/cbg_01.jpg')] overflow-hidden">
                        <!-- Dark mode overlay -->
                        <div class="absolute inset-0 "></div>

                        <div class="cabg01_1 z-10 ml-auto max-w-[calc(1640px+3%)] flex flex-col md:flex-col lg:flex-row lg:justify-end items-stretch">
                            <div class="w-full lg:w-[600px] flex flex-col lg:flex-wrap lg:justify-start lg:items-center lg:content-between  order-1 md:order-1 lg:order-1">
                                <!-- 手機版區塊1: cla_01.png 圖片 -->
                                <h1 class="ml-4 text-2xl md:text-3xl lg:text-4xl font-semibold text-primary-700 dark:text-primary-300 drop-shadow-lg tracking-wide leading-tight">
                                    指油壓按摩專業培訓課程
                                </h1>

                                <!-- 手機版區塊2&3: 培訓服務介紹 & 培訓課程選項按鈕 (同一行) -->
                                <div class="my-8 lg:hidden text-center flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center items-center [&_a+a]:ml-2 sm:[&_a+a]:ml-0">
                                    <a
                                      href="https://www.yonghe32.com/paper/other_select_index.php?id=3629&amp;title_id=10681&amp;group_id=852"
                                      class="inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white font-bold rounded-full transition-colors duration-300"
                                    >
                                        培訓服務介紹
                                    </a>
                                    <a
                                      href="https://www.yonghe32.com/paper/other_select_index.php?id=3630&amp;title_id=10681&amp;group_id=852"
                                      class="inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-full transition-colors duration-300"
                                    >
                                        培訓課程選項
                                    </a>
                                </div>

                                <!-- 電腦版按鈕組合 (隱藏在手機版) -->
                                <figure class="hidden lg:flex justify-start items-stretch mt-5 mb-8 [&_a]:text-base [&_a]:lg:text-base [&_a]:px-2 [&_a]:lg:px-4">
                                    <a
                                      href="https://www.yonghe32.com/paper/other_select_index.php?id=3629&amp;title_id=10681&amp;group_id=852"
                                      class="inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white font-bold rounded-full transition-colors duration-300"
                                    >
                                        培訓服務介紹
                                    </a>
                                    <a
                                      href="https://www.yonghe32.com/paper/other_select_index.php?id=3630&amp;title_id=10681&amp;group_id=852"
                                      class="inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-full ml-3 transition-colors duration-300"
                                    >
                                        培訓課程選項
                                    </a>
                                </figure>
                                <!-- 手機版區塊4: 因材施教內容 + 背景圖 -->
                                <div class="py-14 lg:flex-1 lg:flex lg:flex-col lg:justify-center lg:pt-14 lg:pb-0 relative z-10 text-center lg:text-left mb-8 lg:mb-0">
                                    <div class="absolute left-1/2 lg:left-[30%] top-0 w-full lg:w-[1230px] h-full bg-white/50 dark:bg-white/30 -translate-x-1/2 -z-10 rounded-lg lg:rounded-tr-[200px]"></div>
                                    <img
                                      src="https://pic03.eapple.com.tw/yonghe32/cla_000.png"
                                      alt="一對一教學"
                                      class="w-auto max-w-full mx-auto lg:mx-0"
                                    />
                                    <span class="block mt-5 text-lg max-w-[390px] text-[color:var(--theme-text,#000000)] dark:text-neutral-200 mx-auto lg:mx-0">
                                        打造專業技術 × 開啟高薪職涯
                                    </span>
                                </div>

                            </div>
                            <div class="leading-[0] order-2 md:order-2 lg:order-2 text-center lg:text-left">
                                <img
                                  src="https://pic03.eapple.com.tw/yonghe32/ca_01.png"
                                  alt="培訓圖片1"
                                  class="object-cover object-left-bottom min-h-full lg:block hidden"
                                />
                                <img
                                  src="https://pic03.eapple.com.tw/yonghe32/ca_01_1.jpg"
                                  alt="培訓圖片2"
                                  class="lg:hidden block my-8 mx-auto"
                                />
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: Course Selection -->
                    <div class="cabg02 py-[100px] max-w-7xl mx-auto transition-colors duration-300">
                        <div class="max-w-[1360px] mx-auto px-4">
                            <div
                              data-animate-in="left"
                              data-detect-repeat="N"
                              class="in-view w-full md:w-auto mb-8 md:mb-12 lg:mb-0"
                            >
                                <h4 class="flex justify-start items-center text-3xl md:text-4xl font-bold text-black pl-5 pb-6 border-b-2 border-primary-500 mb-8">
                                    <img
                                      src="https://pic03.eapple.com.tw/yonghe32/ser_02.png"
                                      alt="課程圖標"
                                      class="w-10 h-10 mr-4"
                                    />
                                    <span class="text-primary-600">課程簡介</span>
                                </h4>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 pt-5 px-5">
                                    <div class="bg-white/95 p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-primary-200 dark:border-primary-700 hover:border-primary-400 dark:hover:border-primary-500 text-black">
                                        本課程專為想投入專業按摩領域，學完即可服務顧客的你。
                                        以 一對一 全實作 教學為核心，透過實際操作與導師的即時指導，讓學員在短時間內掌握正確力道、手感與完整流程，快速累積實戰經驗。
                                        指油壓按摩是結合中式指壓與精油SPA按摩的技術，既能有效放鬆肌肉、調理筋絡，又能提升顧客身心舒緩的體驗。
                                    </div>

                                    <div class="bg-white/95 p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-primary-200 dark:border-primary-700 hover:border-primary-400 dark:hover:border-primary-500 text-black">
                                        無論你是零基礎的新手，或已有基礎經驗卻無受過完整系統化的訓練，都能透過我們的培訓課程，快速掌握核心技術，並具備實務操作的自信。
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-12 mx-auto flex justify-between items-stretch lg:flex-row flex-col">
                            <div
                                    data-animate-in="left"
                                    data-detect-repeat="N"
                                    class="in-view w-full md:w-auto lg:w-[613px] mb-8 md:mb-12 lg:mb-0"
                            >
                                <h4 class="flex justify-start items-center text-3xl md:text-4xl font-bold leading-tight pl-5 pb-3 border-b border-primary-300 dark:border-primary-600">
                                    <img
                                            src="https://pic03.eapple.com.tw/yonghe32/ser_02.png"
                                            alt="課程圖標"
                                            class="w-8 h-8 mr-3"
                                    />
                                    <p class="text-primary-600">核心基礎概念</p>
                                </h4>

                                <figure class="pt-5 px-5">
                                    <div class="bg-white/90 p-4 max-w-[500px] rounded-lg mb-6 shadow-sm border border-primary-200 dark:border-primary-700 text-black">
                                        人體主要肌群與常見痠痛點
                                        指油壓的力道方向與節奏重點
                                    </div>
                                </figure>
                            </div>
                            <div
                                    data-animate-in="left"
                                    data-detect-repeat="N"
                                    class="in-view w-full md:w-auto lg:w-[613px] mb-8 md:mb-12 lg:mb-0"
                            >
                                <h4 class="flex justify-start items-center text-3xl md:text-4xl font-bold leading-tight pl-5 pb-3 border-b border-primary-300 dark:border-primary-600">
                                    <img
                                            src="https://pic03.eapple.com.tw/yonghe32/ser_02.png"
                                            alt="課程圖標"
                                            class="w-8 h-8 mr-3"
                                    />
                                    <p class="text-primary-600">手技操作訓練</p>
                                </h4>

                                <figure class="pt-5 px-5">
                                    <div class="bg-white/90  p-4 max-w-[500px] rounded-lg mb-6 shadow-sm border border-primary-200 dark:border-primary-700 text-black">
                                        中式指壓教學
                                        精油油壓教學
                                        體力分配、姿勢調整，避免操作疲勞
                                    </div>
                                </figure>
                            </div>
                            <div
                                    data-animate-in="left"
                                    data-detect-repeat="N"
                                    class="in-view w-full md:w-auto lg:w-[613px] mb-8 md:mb-12 lg:mb-0"
                            >
                                <h4 class="flex justify-start items-center text-3xl md:text-4xl font-bold leading-tight pl-5 pb-3 border-b border-primary-300 dark:border-primary-600">
                                    <img
                                            src="https://pic03.eapple.com.tw/yonghe32/ser_02.png"
                                            alt="課程圖標"
                                            class="w-8 h-8 mr-3"
                                    />
                                    <p class="text-primary-600">完整服務流程</p>
                                </h4>

                                <figure class="pt-5 px-5">
                                    <div class="bg-white/90 p-4 max-w-[500px] rounded-lg mb-6 shadow-sm border border-primary-200 dark:border-primary-700 text-black">
                                        職場應用與課程設計
                                        顧客的溝通與藝術
                                        打造個人特色，提供客製化的專屬訂製服務
                                    </div>
                                </figure>
                            </div>
                        </div>
                        <!-- Features Grid -->
                        <ul class="flex justify-center items-stretch mx-auto mt-12 lg:mt-16 text-center min-[600px]:flex-row lg:flex-row flex-wrap gap-4 min-[600px]:gap-6 lg:gap-8">
                            <li data-animate-in="down" data-delay="100" data-detect-repeat="N" class="in-view w-full min-[600px]:w-[calc(50%-12px)] lg:w-[calc(25%-24px)] p-4 border-b min-[600px]:border-b-0">
                                <img
                                    src="https://pic03.eapple.com.tw/yonghe32/ca_02.png"
                                    alt="課程圖片"
                                    class="object-cover w-full min-h-full rounded-lg"
                                />
                                <p class="max-w-[200px] mx-auto leading-tight text-black">
                                    人體肌肉路徑學識概念強化
                                </p>
                            </li>
                            <li
                              data-animate-in="down"
                              data-delay="200"
                              data-detect-repeat="N"
                              class="in-view w-full min-[600px]:w-[calc(50%-12px)] lg:w-[calc(25%-24px)] p-4 border-b min-[600px]:border-b-0 min-[600px]:border-l lg:border-l border-primary-300 dark:border-primary-600"
                            >
                                <img
                                    src="https://pic03.eapple.com.tw/yonghe32/ca_02.png"
                                    alt="課程圖片"
                                    class="object-cover w-full min-h-full rounded-lg"
                                />
                                <p class="max-w-[200px] mx-auto leading-tight text-black">
                                    徒手、指壓、掌壓、肘壓技法
                                </p>
                            </li>
                            <li
                              data-animate-in="down"
                              data-delay="300"
                              data-detect-repeat="N"
                              class="in-view w-full min-[600px]:w-[calc(50%-12px)] lg:w-[calc(25%-24px)] p-4 border-b min-[600px]:border-b-0 min-[600px]:border-l lg:border-l border-primary-300 dark:border-primary-600"
                            >
                                <img
                                    src="https://pic03.eapple.com.tw/yonghe32/ca_02.png"
                                    alt="課程圖片"
                                    class="object-cover w-full min-h-full rounded-lg"
                                />
                                <p class="max-w-[200px] mx-auto leading-tight text-black">
                                    精油、指推、長推、肘推技法
                                </p>
                            </li>
                            <li
                              data-animate-in="down"
                              data-delay="400"
                              data-detect-repeat="N"
                              class="in-view w-full min-[600px]:w-[calc(50%-12px)] lg:w-[calc(25%-24px)] p-4 border-b min-[600px]:border-b-0 min-[600px]:border-l lg:border-l border-primary-300 dark:border-primary-600"
                            >
                                <img
                                    src="https://pic03.eapple.com.tw/yonghe32/ca_02.png"
                                    alt="課程圖片"
                                    class="object-cover w-full min-h-full rounded-lg"
                                />
                                <p class="max-w-[200px] mx-auto leading-tight text-black ">
                                    拔罐、走罐、刮痧、 肌群伸展等技法
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add theme toggle and animations -->
    <style>
        /* 動畫樣式 */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes slideInFromRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* 初始狀態 */
        [data-animate-in] {
            opacity: 0;
        }

        [data-animate-in="left"] {
            transform: translateX(-30px);
        }

        [data-animate-in="down"] {
            transform: translateY(-30px);
        }

        [data-animate-in="up"] {
            transform: translateY(30px);
        }

        /* 動畫類別 */
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .animate-fade-in-left {
            animation: fadeInLeft 0.8s ease-out forwards;
        }

        .animate-fade-in-down {
            animation: fadeInDown 0.8s ease-out forwards;
        }

        .animate-pulse-hover:hover {
            animation: pulse 0.6s ease-in-out;
        }

        .animate-slide-in-right {
            animation: slideInFromRight 0.8s ease-out forwards;
        }

        /* 懸停效果 */
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .hover-lift:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        /* 標題閃爍效果 */
        .title-glow {
            position: relative;
        }

        .title-glow::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.3), transparent);
            opacity: 0;
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }
    </style>

    <script>
        // Enhanced theme-aware animations
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize theme detection
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)')

            // Apply theme based on system preference or stored preference
            function updateTheme(isDark: boolean): void {
                if (isDark) {
                    document.documentElement.classList.add('dark')
                } else {
                    document.documentElement.classList.remove('dark')
                }
            }

            // Check for stored theme preference
            const storedTheme = localStorage.getItem('theme')
            if (storedTheme) {
                updateTheme(storedTheme === 'dark')
            } else {
                updateTheme(prefersDark.matches)
            }

            // Listen for system theme changes
            prefersDark.addEventListener('change', e => {
                if (!localStorage.getItem('theme')) {
                    updateTheme(e.matches)
                }
            })

            // Enhanced scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px',
            }

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const element = entry.target as HTMLElement
                        const animationType = element.getAttribute('data-animate-in')

                        // 添加對應的動畫類別
                        switch(animationType) {
                            case 'left':
                                element.classList.add('animate-fade-in-left')
                                break
                            case 'down':
                                element.classList.add('animate-fade-in-down')
                                break
                            case 'up':
                                element.classList.add('animate-fade-in-up')
                                break
                            default:
                                element.style.opacity = '1'
                                element.style.transform = 'translate3d(0, 0, 0)'
                        }

                        // 添加延遲動畫
                        const delay = parseInt(element.getAttribute('data-delay') || '0')
                        if (delay > 0) {
                            element.style.animationDelay = `${delay}ms`
                        }
                    }
                })
            }, observerOptions)

            // Observe all animated elements
            document.querySelectorAll('[data-animate-in]').forEach(el => {
                observer.observe(el)
            })

            // 為卡片添加懸停效果
            document.querySelectorAll('.bg-white\\/95').forEach(card => {
                card.classList.add('hover-lift')
            })

            // 為主標題添加光澤效果
            const mainTitle = document.querySelector('h1')
            if (mainTitle) {
                mainTitle.classList.add('title-glow')
            }

            // 添加滾動視差效果
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset
                const parallaxElements = document.querySelectorAll('.bg-\\[url\\(')

                parallaxElements.forEach(element => {
                    const speed = 0.5
                    const htmlElement = element as HTMLElement
                    htmlElement.style.transform = `translateY(${scrolled * speed}px)`
                })
            })

            // 為按鈕添加波浪點擊效果
            document.querySelectorAll('a[class*="bg-primary"]').forEach(button => {
                button.addEventListener('click', (e: Event) => {
                    const mouseEvent = e as MouseEvent
                    const ripple = document.createElement('span')
                    const target = button as HTMLElement
                    const rect = target.getBoundingClientRect()
                    const size = Math.max(rect.width, rect.height)
                    const x = mouseEvent.clientX - rect.left - size / 2
                    const y = mouseEvent.clientY - rect.top - size / 2

                    ripple.style.cssText = `
                        position: absolute;
                        width: ${size}px;
                        height: ${size}px;
                        left: ${x}px;
                        top: ${y}px;
                        background: rgba(255, 255, 255, 0.3);
                        border-radius: 50%;
                        transform: scale(0);
                        animation: ripple 0.6s ease-out;
                        pointer-events: none;
                    `

                    target.style.position = 'relative'
                    target.style.overflow = 'hidden'
                    target.appendChild(ripple)

                    setTimeout(() => {
                        ripple.remove()
                    }, 600)
                })
            })
        })

        // 添加波浪動畫樣式
        const style = document.createElement('style')
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(2);
                    opacity: 0;
                }
            }
        `
        document.head.appendChild(style)
    </script>

</Layout>
