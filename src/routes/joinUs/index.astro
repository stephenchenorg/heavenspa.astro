---
import type { PageMeta } from '@stephenchenorg/astro/page'
import { seoMeta } from '@stephenchenorg/astro/page'
import { getLocale } from 'i18n:astro'
import { getJoinUsPageData } from '@/api/joinUsPage'
import FAQ from '@/components/FAQ.astro'
import CareersForm from '@/components/joinUs/careersForm.vue'
import SectionTitle from '@/components/ui/SectionTitle.astro'
import Layout from '@/layouts/Layout.astro'
import { createNestedT } from '@/utils/i18n'
import { getCanonicalUrl, getSeoConfig } from '@/utils/seoConfig'

const t = await createNestedT()

const currentLocale = getLocale()
const locale = currentLocale === 'en' ? 'en' : 'zh_TW'

// ÂñÆ‰∏ÄÊâπÊ¨°Êü•Ë©¢ÂèñÂæó Join Us È†ÅÈù¢ÊâÄÊúâË≥áÊñô
const { positions, companySetting, faqs } = await getJoinUsPageData()

const seoConfig = getSeoConfig('joinUs', locale)
const meta = {
  ...seoMeta(seoConfig),
  canonical: getCanonicalUrl('joinUs', locale),
} as PageMeta
---

<Layout meta={meta}>
    <main class="section-container ">

        <!-- Ê®ôÈ°åÂçÄ -->
        <SectionTitle
          title={t('joinUs.title')}
          subtitle={t('joinUs.subtitle')}
        />

        <!-- Ë™≤Á®ãÂçÄÂ°ä - Â∏∂ËÉåÊôØ -->
        <section class="bg-white relative py-12 lg:py-16">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <h2 class="text-2xl sm:text-3xl lg:text-4xl font-light mb-8 lg:mb-12 lg:tracking-[4px] md:tracking-[3px] tracking-[2px] text-black Ôºè">
                    {t('joinUs.job.title')}
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {positions && positions.map((item, index) => (
                        <div
                          class="liquid border overflow-hidden flex flex-col"
                          style="border-color: var(--theme-border);"
                        >
                            <!-- ÊªøÁâàÂúñÁâá -->
                            <div class="w-full h-64 overflow-hidden">
                                <picture>
                                    <!-- ÊâãÊ©üÁâàÂúñÁâá (< 768px) -->
                                    <source
                                      media="(max-width: 767px)"
                                      srcset={item.cover.mobile}
                                    />
                                    <!-- ÈõªËÖ¶ÁâàÂúñÁâá (>= 768px) -->
                                    <img
                                      src={item.cover.desktop}
                                      alt={item.title}
                                      class="w-full h-full object-cover"
                                      loading={index < 2 ? "eager" : "lazy"}
                                    />
                                </picture>
                            </div>

                            <!-- Âç°ÁâáÂÖßÂÆπ -->
                            <div class="p-6 flex-1 flex flex-col">
                                <!-- Ê®ôÈ°åÂíå‰∏ãÂ∫ïÁ∑ö -->
                                <h3 class="text-xl font-semibold mb-2 pb-3 border-b text-black">
                                    {item.title}
                                </h3>

                                <!-- ËÅ∑Áº∫ÂÖßÂÆπ -->
                                <div class="mt-4 mb-4 space-y-4 flex-1">
                                    <div>
                                        <h4 class="font-semibold mb-3 text-black">{t('joinUs.job.jobContent')}</h4>
                                        <p class="text-sm text-gray-700 whitespace-pre-line">{item.description}</p>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold mb-3 text-black">{t('joinUs.job.requirements')}</h4>
                                        <p class="text-sm text-gray-700 whitespace-pre-line">{item.requirements}</p>
                                    </div>
                                </div>

                                <!-- ÊåâÈàïÂçÄ -->
                                <div class="mt-auto -mx-6 -mb-6">
                                    <a
                                      href="mailto:heavenspa999@gmail.com"
                                      class="block px-6 py-4 text-center transition-all duration-300 hover:opacity-90 bg-white/90 "
                                    >
                                        <p class="text-xs text-black/60 mb-2 font-medium">
                                            {t('joinUs.form.sendResume')}
                                        </p>
                                        <div
                                          class="inline-flex items-center justify-center gap-2 text-sm font-semibold"
                                          style="color: var(--color-primary-500);"
                                        >
                                            <span>üì©</span>
                                            <span>heavenspa999@gmail.com</span>
                                        </div>
                                    </a>
                                    <a
                                      href="#form"
                                      class="block px-6 py-4 text-center font-medium text-white transition-all duration-300 hover:opacity-90"
                                      style="background: var(--color-primary-500);"
                                    >
                                        {t('joinUs.form.submit')}
                                    </a>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        </section>

        <!-- Page content will be added here -->
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 ">
            <!--ÂÄã‰∫∫Á∞°Ê≠∑ÂçÄÂ°ä-->
            <section id="form" class="form-section mt-12 lg:mt-16 border-t pt-8" style="scroll-margin-top: 100px;">
                <h2 class="form-title text-2xl sm:text-3xl lg:text-4xl font-light mb-4 lg:mb-6 lg:tracking-[4px] md:tracking-[3px] tracking-[2px]" data-i18n="joinUs.contact.title">{t('joinUs.contact.resume')}</h2>
                <div class="form-content">
                      <CareersForm client:visible />
                </div>
            </section>
            <!-- ‰∏≠ÈñìÂçÄÂ°ä -->
            <section class="fade-in-section mt-12 lg:mt-16 border-t pt-8" style="border-color: var(--theme-border);">
                <h2 class="fade-in-title text-2xl sm:text-3xl lg:text-4xl font-light mb-4 lg:mb-6 lg:tracking-[4px] md:tracking-[3px] tracking-[2px]" data-i18n="joinUs.faq.title">{t('joinUs.faq.title')}</h2>
                <div class="fade-in-content">
                    <FAQ faqs={faqs} twoColumn={true} />
                </div>
            </section>
            <!--‰∏ãÊñπÂçÄÂ°ä-->
            <section class="fade-in-section grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 mt-12 lg:mt-16 border-t pt-8" style="border-color: var(--theme-border);">
                <!-- Ë°®ÂñÆ -->
                <div class="fade-in-content">
                    <h2 class="fade-in-title text-2xl sm:text-3xl lg:text-4xl font-light mb-4 lg:mb-6 lg:tracking-[4px] md:tracking-[3px] tracking-[2px]" data-i18n="joinUs.contact.title">{t('joinUs.contact.title')}</h2>
                    <p class="text-neutral-400 text-sm sm:text-base mb-4" data-i18n="joinUs.contact.description">{t('joinUs.contact.description')}</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6">
                        <!-- Say Hello -->
                        <div class="border-l-4 pl-4 sm:pl-6 py-4" style="border-color: var(--color-primary-500);">
                            <div class="relative mb-3 sm:mb-4 w-4 h-6">
                                <svg
                                  class="w-6 h-6 sm:w-8 sm:h-8 mb-2"
                                  style="color: var(--color-primary-500);"
                                  fill="currentColor"
                                  viewBox="0 0 24 24"
                                  xmlns="http://www.w3.org/2000/svg"
                                  fill-rule="evenodd"
                                  clip-rule="evenodd"
                                >
                                    <path d="M24 21h-24v-18h24v18zm-23-16.477v15.477h22v-15.477l-10.999 10-11.001-10zm21.089-.523h-20.176l10.088 9.171 10.088-9.171z"></path>
                                </svg>
                                <div class="absolute top-0 left-0">
                                    <svg
                                      class="w-3 h-3 sm:w-4 sm:h-4"
                                      style="color: var(--color-primary-500);"
                                      xmlns="http://www.w3.org/2000/svg"
                                      viewBox="0 0 24 24"
                                      fill="currentColor"
                                    >
                                        <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3.445 17.827c-3.684 1.684-9.401-9.43-5.8-11.308l1.053-.519 1.746 3.409-1.042.513c-1.095.587 1.185 5.04 2.305 4.497l1.032-.505 1.76 3.397-1.054.516z"></path>
                                    </svg>
                                </div>
                            </div>
                            <h4 class="text-lg sm:text-xl font-normal mb-2 sm:mb-3 tracking-[2px]" style="color: var(--color-primary-500);" data-i18n="joinUs.contact.sayHello">{t('joinUs.contact.sayHello')}</h4>
                            <div class="space-y-1 sm:space-y-2">
                                <div>
                                    <a
                                      href=`mailto:${companySetting.email_1}`
                                      class="hover:underline transition-all duration-300 text-sm sm:text-base break-all"
                                    >
                                        {companySetting.email_1}
                                    </a>
                                </div>
                                <div class="text-sm sm:text-base" style="color: var(--theme-text-secondary);" data-i18n="joinUs.contact.phone">
                                    <a href=`tel:${companySetting.phone_1}`>
                                        {companySetting.phone_1}
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Location -->
                        <div class="border-l-4 pl-4 sm:pl-6 py-4" style="border-color: var(--color-primary-500);">
                            <div class="relative mb-3 sm:mb-4 w-4 h-6">
                                <svg
                                  class="w-6 h-6 sm:w-8 sm:h-8 mb-2"
                                  style="color: var(--color-primary-500);"
                                  fill="currentColor"
                                  viewBox="0 0 24 24"
                                  xmlns="http://www.w3.org/2000/svg"
                                  fill-rule="evenodd"
                                  clip-rule="evenodd"
                                >
                                    <path d="M12 10c-1.104 0-2-.896-2-2s.896-2 2-2 2 .896 2 2-.896 2-2 2m0-5c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3m-7 2.602c0-3.517 3.271-6.602 7-6.602s7 3.085 7 6.602c0 3.455-2.563 7.543-7 14.527-4.489-7.073-7-11.072-7-14.527m7-7.602c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602"></path>
                                </svg>
                            </div>
                            <h4 class="text-lg sm:text-xl font-normal mb-2 sm:mb-3 tracking-[2px]" style="color: var(--color-primary-500);" data-i18n="joinUs.contact.location">{t('joinUs.contact.location')}</h4>
                            <div class="space-y-1 sm:space-y-2">
                                <div class="text-sm sm:text-base" style="color: var(--theme-text-secondary);" data-i18n="joinUs.contact.address">
                                    <a
                                      href={`https://maps.google.com/?q=${encodeURIComponent(companySetting.address_1 || '')}`}
                                      target="_blank"
                                      rel="noopener noreferrer"
                                    >{companySetting?.address_1}</a>
                                </div>
                                <div class="text-sm sm:text-base" style="color: var(--theme-text-secondary);" data-i18n="joinUs.contact.hours">
                                    {companySetting?.business_hours}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="fade-in-content" style="transition-delay: 0.3s;">
                    <!-- Google Maps -->
                    <div class="mb-6 lg:mb-0">
                        <div class="rounded-lg overflow-hidden" style="border: 2px solid var(--theme-border);">
                            <iframe
                              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.287123999033!2d121.5258937!3d25.058255700000004!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a96bfd60fe63%3A0x54b492f3bcf5fd83!2z5Lqr5aSp5aCCIFNwYSBpbiBIZWF2ZW4gLSBTcGHmjInmkakv5a6i6KO95YyW6YGL5YuV5oyJ5pGpL-eUt-Wjq-eGseign-mZpOavmw!5e0!3m2!1szh-TW!2stw!4v1757748821828!5m2!1szh-TW!2stw"
                              width="100%"
                              height="250"
                              class="sm:h-80 lg:h-96"
                              style="border:0;"
                              allowfullscreen=""
                              loading="lazy"
                              referrerpolicy="no-referrer-when-downgrade"
                              :title="t('joinUs.mapTitle')"
                            >
                            </iframe>
                        </div>
                    </div>

                    <!-- Á§æÁæ§Â™íÈ´î -->
                    <!--<div class="mt-6 pt-6 border-t" style="border-color: var(&#45;&#45;theme-border);">-->
                    <!--    <p class="font-medium mb-3" style="color: var(&#45;&#45;theme-text);">ÈóúÊ≥®ÊàëÂÄë</p>-->
                    <!--    <div class="flex space-x-4">-->
                    <!--        <a href="#"-->
                    <!--           class="w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 hover:-translate-y-1"-->
                    <!--           style="background: var(&#45;&#45;color-primary-500); color: var(&#45;&#45;theme-bg);">-->
                    <!--            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">-->
                    <!--                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>-->
                    <!--            </svg>-->
                    <!--        </a>-->
                    <!--        <a href="#"-->
                    <!--           class="w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 hover:-translate-y-1"-->
                    <!--           style="background: var(&#45;&#45;color-primary-500); color: var(&#45;&#45;theme-bg);">-->
                    <!--            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">-->
                    <!--                <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>-->
                    <!--            </svg>-->
                    <!--        </a>-->
                    <!--        <a href="#"-->
                    <!--           class="w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 hover:-translate-y-1"-->
                    <!--           style="background: var(&#45;&#45;color-primary-500); color: var(&#45;&#45;theme-bg);">-->
                    <!--            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">-->
                    <!--                <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.219-.359-1.219c0-1.142.662-1.995 1.482-1.995.699 0 1.037.219 1.037 1.178 0 .718-.219 1.795-.359 2.792-.199.837.419 1.219 1.237 1.219 1.482 0 2.62-1.564 2.62-3.817 0-1.998-1.439-3.397-3.496-3.397-2.383 0-3.781 1.784-3.781 3.633 0 .718.279 1.482.628 1.899.069.08.079.151.059.231-.06.25-.199.798-.219.908-.029.131-.1.159-.23.099-1.28-.599-2.081-2.458-2.081-3.952 0-3.239 2.351-6.21 6.775-6.21 3.556 0 6.32 2.533 6.32 5.916 0 3.527-2.233 6.369-5.348 6.369-1.040 0-2.020-.219-2.353-.478l-.639 2.433c-.232.887-.862 1.995-1.284 2.673.967.298 1.993.458 3.058.458 6.624 0 11.99-5.367 11.99-11.987C24.007 5.367 18.641.001 12.017.001z"/>-->
                    <!--            </svg>-->
                    <!--        </a>-->
                    <!--    </div>-->
                    <!--</div>-->
                </div>
            </section>
        </div>
    </main>
</Layout>

<!-- SVG Ê∂≤ÊÖãÁéªÁíÉÊøæÈè° -->
<svg width="0" height="0" style="position:fixed;left:-9999px;top:-9999px">
  <defs>
    <filter id="liquid_glass_filter" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox">
      <feTurbulence type="fractalNoise" baseFrequency="0.003" numOctaves="2" seed="7" result="noise" />
      <feGaussianBlur in="noise" stdDeviation="1.2" result="map" />
      <feDisplacementMap in="SourceGraphic" in2="map" scale="110" xChannelSelector="R" yChannelSelector="G" />
    </filter>
  </defs>
</svg>

<style>
    /* Âπ≥ÊªëÊªæÂãï */
    html {
        scroll-behavior: smooth;
    }

    @keyframes liquidFadeIn {
        0% {
            opacity: 0;
            transform: translateY(40px) scale(0.95);
        }
        60% {
            opacity: 1;
            transform: translateY(-8px) scale(1.02);
        }
        100% {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    .liquid {
        /* ÁúüÊ≠£ÁöÑÊ∂≤ÊÖãÈóúÈçµÔºöÂÖàÊ®°Á≥ä„ÄÅÂÜçÁî® SVG ‰ΩçÁßªÂú∞ÂúñÊâ≠Êõ≤ËÉåÊôØ */
        backdrop-filter: url(#liquid_glass_filter) blur(2px) saturate(150%);
        -webkit-backdrop-filter: url(#liquid_glass_filter) blur(20px) saturate(150%);
        /* Áî® box-shadow Âèñ‰ª£ÈÇäÊ°ÜÔºåÁáüÈÄ†ÂéöÂ∫¶ËàáÂÖâÊöà - Âä†Âº∑Â∑¶Âè≥‰∫ÆÊæ§ */
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.45),
          inset 0 -1px 0 rgba(255,255,255,0.18),
          inset 1px 0 0 rgba(255,255,255,0.35),
          inset -1px 0 0 rgba(255,255,255,0.25),
          inset 6px 6px 16px rgba(255,255,255,0.12),
          inset -6px 6px 16px rgba(255,255,255,0.08),
          0 10px 28px rgba(0,0,0,0.35);
        background: rgba(104,104,104, 0.1);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        /* ÈÄ≤ÂÖ•ÂãïÁï´ */
        opacity: 0;
        transform: translateY(40px) scale(0.95);
        animation: liquidFadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        animation-delay: 0.1s;
    }

    /* Hover ÊïàÊûú */
    .liquid:hover {
        transform: translateY(-16px) scale(1.02);
        background: rgba(104, 104, 104, 0.15);
        backdrop-filter: url(#liquid_glass_filter) blur(3px) saturate(180%);
        -webkit-backdrop-filter: url(#liquid_glass_filter) blur(70px) saturate(180%);
        box-shadow:
            inset 0 1px 0 rgba(255, 255, 255, 0.55),
            inset 0 -1px 0 rgba(255, 255, 255, 0.25),
            inset 2px 0 0 rgba(255,255,255,0.45),
            inset -2px 0 0 rgba(255,255,255,0.35),
            inset 8px 8px 20px rgba(255, 255, 255, 0.18),
            inset -8px 8px 20px rgba(255,255,255,0.12),
            0 20px 48px rgba(0, 0, 0, 0.4),
            0 0 40px rgba(255, 255, 255, 0.15);
    }

    /* FallbackÔºöËã•ÁÄèË¶ΩÂô®‰∏çÊîØÊè¥ backdrop-filterÔºåÂ∞±Áî®ÊüîÂíåÊº∏Â±§Â¢äÂ∫ï */
    @supports not (backdrop-filter: blur(2px)) {
        .liquid {
            background: linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
        }
    }

    /* ÂúñÁâáÊïàÊûú */
    .liquid img {
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .liquid:hover img {
        transform: scale(1.05);
        filter: brightness(1.1) saturate(1.2);
    }

    /* ÂÖßÈÉ®ÂèçÂÖâÊïàÊûú */
    .liquid > div:first-child::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 40%;
        background: linear-gradient(
            180deg,
            rgba(255, 255, 255, 0.25) 0%,
            rgba(255, 255, 255, 0.08) 50%,
            transparent 100%
        );
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.5s ease;
        z-index: 10;
    }

    .liquid:hover > div:first-child::after {
        opacity: 1;
    }

    /* Ê∞¥Êª¥/Ê∂≤ÊÖãÊµÅÂãïÊïàÊûú */
    .liquid::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
            circle at 30% 40%,
            rgba(255, 255, 255, 0.3) 0%,
            rgba(255, 255, 255, 0.15) 15%,
            transparent 40%
        ),
        radial-gradient(
            circle at 70% 60%,
            rgba(255, 255, 255, 0.2) 0%,
            rgba(255, 255, 255, 0.08) 20%,
            transparent 45%
        ),
        radial-gradient(
            circle at 50% 80%,
            rgba(255, 255, 255, 0.15) 0%,
            transparent 35%
        );
        pointer-events: none;
        z-index: 1;
        opacity: 0.6;
        animation: liquid-drift 15s ease-in-out infinite;
        mix-blend-mode: overlay;
    }

    @keyframes liquid-drift {
        0%, 100% {
            transform: translate(0, 0) rotate(0deg);
        }
        25% {
            transform: translate(5%, -8%) rotate(3deg);
        }
        50% {
            transform: translate(-3%, 5%) rotate(-2deg);
        }
        75% {
            transform: translate(-5%, -3%) rotate(2deg);
        }
    }

    .liquid:hover::before {
        animation-play-state: paused;
        opacity: 0.8;
    }

    /* Ë°®ÂñÆÂçÄÂ°äÂãïÁï´ */
    .form-section {
        position: relative;
    }

    .form-title {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .form-content {
        opacity: 0;
        transform: translateY(40px);
        transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
        transition-delay: 0.2s;
    }

    .form-section.animate .form-title {
        opacity: 1;
        transform: translateY(0);
    }

    .form-section.animate .form-content {
        opacity: 1;
        transform: translateY(0);
    }

    /* Ê®ôÈ°åÊñáÂ≠óÈñÉÂÖâÊïàÊûú */
    @keyframes shimmer {
        0% {
            background-position: -200% center;
        }
        100% {
            background-position: 200% center;
        }
    }

    .form-section.animate .form-title {
        background: linear-gradient(
            90deg,
            var(--theme-text) 0%,
            var(--color-primary-500) 50%,
            var(--theme-text) 100%
        );
        background-size: 200% auto;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shimmer 2s ease-in-out 0.5s;
        animation-fill-mode: forwards;
    }

    /* ÊåâÈàïËÑàÂãïÊïàÊûú */
    @keyframes pulse-glow {
        0%, 100% {
            box-shadow: 0 0 0 0 rgba(var(--color-primary-rgb), 0.7);
        }
        50% {
            box-shadow: 0 0 20px 10px rgba(var(--color-primary-rgb), 0);
        }
    }

    .liquid a[href="#form"] {
        position: relative;
        overflow: hidden;
    }

    .liquid a[href="#form"]::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .liquid a[href="#form"]:active::before {
        width: 300px;
        height: 300px;
    }

    /* Ê∑°ÂÖ•ÊªëÂá∫ÂãïÁï´ - ÂæµÊâçÂïèÈ°åÂíåËÅØÁµ°ÊàëÂÄëÂçÄÂ°ä */
    .fade-in-section {
        position: relative;
    }

    .fade-in-title {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .fade-in-content {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        transition-delay: 0.15s;
    }

    .fade-in-section.animate .fade-in-title {
        opacity: 1;
        transform: translateY(0);
    }

    .fade-in-section.animate .fade-in-content {
        opacity: 1;
        transform: translateY(0);
    }
</style>

<script>
    // Áõ£ËÅΩÈå®ÈªûË∑≥ËΩâ,Ëß∏ÁôºÂãïÁï´
    document.addEventListener('DOMContentLoaded', () => {
        const formSection = document.querySelector('.form-section')
    const fadeInSections = document.querySelectorAll('.fade-in-section')

    // Ê™¢Êü•ÂÖÉÁ¥†ÊòØÂê¶Âú®Ë¶ñÁ™ó‰∏≠
    const isInViewport = (element: Element) => {
            const rect = element.getBoundingClientRect()
        return (
                rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.75 &&
                rect.bottom >= 0
            )
    }

    // ÊªæÂãïÁõ£ËÅΩ
    const checkScroll = () => {
            if (formSection && isInViewport(formSection)) {
                formSection.classList.add('animate')
        }

            // Ê™¢Êü•ÊâÄÊúâÊ∑°ÂÖ•ÂçÄÂ°ä
            fadeInSections.forEach(section => {
                if (isInViewport(section)) {
                    section.classList.add('animate')
            }
            })
    }

    // ÂàùÂßãÊ™¢Êü•
    checkScroll()

    // ÊªæÂãïÊôÇÊ™¢Êü•
    window.addEventListener('scroll', checkScroll, { passive: true })

    // Áõ£ËÅΩÈå®ÈªûÈªûÊìä
    document.querySelectorAll('a[href="#form"]').forEach(link => {
            link.addEventListener('click', e => {
                e.preventDefault()

            // Âπ≥ÊªëÊªæÂãïÂà∞ÁõÆÊ®ô
            const target = document.querySelector('#form')
            if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start',
                })

                // Âª∂ÈÅ≤Ëß∏ÁôºÂãïÁï´
                setTimeout(() => {
                        formSection?.classList.add('animate')
                }, 500)
            }
            })
    })
})
</script>
