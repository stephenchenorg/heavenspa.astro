---
import { getServiceCategories } from '@/api/serviceCategories'
import {createNestedT} from "@/utils/i18n";
import {getLocale} from "i18n:astro";

const { serviceCategories } = await getServiceCategories()
const firstCategory = serviceCategories.data[0]

const t = await createNestedT()
const currentLocale = getLocale()
const isEnglish = currentLocale === 'en'

if (firstCategory) {
    if(isEnglish){
        return Astro.redirect(`/en/services/${firstCategory.id}/items`)
    }
    return Astro.redirect(`/services/${firstCategory.id}/items`)
}

---
