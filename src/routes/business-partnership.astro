---
import { seoMeta } from '@stephenchenorg/astro/page'
import SectionTitle from '@/components/ui/SectionTitle.astro'
import Layout from '@/layouts/Layout.astro'

const meta = seoMeta({
  title: '異業合作 - Heaven Spa',
  description: '探索 Heaven Spa 的異業合作機會，了解我們的合作模式、優勢與合作條件。與我們攜手共創雙贏局面。',
})
---

<Layout meta={meta}>
  <main class="section-container">
    <!-- 標題區 -->
    <SectionTitle title="異業合作" subtitle="Business Partnership" />

  </main>
</Layout>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const tabButtons = document.querySelectorAll<HTMLButtonElement>('.tab-button')
  const partnershipCategories = document.querySelectorAll<HTMLElement>('.partnership-category')

  // Initialize first tab as active
  if (tabButtons.length > 0 && partnershipCategories.length > 0) {
    tabButtons[0]?.classList.add('active')
    if (partnershipCategories[0]) {
      (partnershipCategories[0] as HTMLElement).style.display = 'block'
    }
  }

  // Tab switching functionality
  tabButtons.forEach(button => {
    button.addEventListener('click', function (this: HTMLButtonElement) {
      const targetTab = this.getAttribute('data-tab')

      // Remove active class from all tabs
      tabButtons.forEach(btn => {
        btn.classList.remove('active');
        (btn as HTMLElement).style.backgroundColor = 'transparent';
        (btn as HTMLElement).style.color = 'var(--theme-text)'
      })

      // Add active class to clicked tab
      this.classList.add('active');
      (this as HTMLElement).style.backgroundColor = 'var(--color-primary-500)';
      (this as HTMLElement).style.color = 'white'

      // Hide all categories
      partnershipCategories.forEach(category => {
        (category as HTMLElement).style.display = 'none'
      })

      // Show target category
      const targetCategory = document.querySelector<HTMLElement>(`[data-category="${targetTab}"]`)
      if (targetCategory) {
        targetCategory.style.display = 'block'
      }
    })
  })
})
</script>

<style>
  .partnership-card {
    transition: all 0.3s ease;
  }

  .partnership-card:hover {
    transform: translateY(-2px);
  }

  .tab-button {
    transition: all 0.3s ease;
  }

  .tab-button:hover:not(.active) {
    background-color: var(--color-primary-100);
  }

  .tab-button.active {
    background-color: var(--color-primary-500);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  /* Responsive tabs for mobile */
  @media (max-width: 640px) {
    .tab-button {
      font-size: 0.875rem;
      padding: 0.75rem 1rem;
    }
  }

  /* Dark theme adaptations */
  .dark-theme .partnership-card:hover {
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
  }

  /* Animation for cards on load */
  .partnership-card {
    opacity: 0;
    animation: fadeInUp 0.6s ease forwards;
  }

  .partnership-card:nth-child(1) { animation-delay: 0.1s; }
  .partnership-card:nth-child(2) { animation-delay: 0.2s; }
  .partnership-card:nth-child(3) { animation-delay: 0.3s; }
  .partnership-card:nth-child(4) { animation-delay: 0.4s; }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
